apiVersion: score.dev/v1b1
metadata:
  name: web-application

containers:
  web:
    image: nginx:latest
    variables:
      SERVER_NAME: ${resources.dns.hostname}
      STORAGE_PATH: ${resources.storage.path}

resources:
  dns:
    type: route
    properties:
      hostname: "myapp.example.com"
      port: 80
  storage:
    type: volume
    properties:
      size: "5Gi"
      path: "/var/www/html"

environment:
  type: production
  ttl: 168h  # 1 week
